var globals = require('../../globals');
var factory = globals.getFactory();

module.exports = function (node, parent, firstVisit) {
    if (firstVisit) {
        if (globals.getWrapperOfNode(node) !== undefined) {
            return;
        }
        var regExpLiteral = factory.createRegExpLiteralWrapper();
        globals.setPositionInfo(node, regExpLiteral);
        regExpLiteral.setPattern(node.pattern);
        regExpLiteral.setFlags(node.flags);
        return regExpLiteral;
    }
}